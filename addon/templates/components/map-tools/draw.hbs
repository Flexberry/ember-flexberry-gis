{{#map-tools/base
  class=(concat flexberryClassNames.wrapper " " class)
  name="draw"
  caption=caption
  tooltip=tooltip
  iconClass=iconClass
}}
  {{#block-slot "submenu"}}
    {{#if drawLabel}}
      {{map-tools/base
        class=(concat flexberryClassNames.drawLabel " " drawLabelClass)
        name="draw-label"
        caption=drawLabelCaption
        iconClass=drawLabelIconClass
        mapToolProperties=_drawToolProperties
        activate=(action "onMapToolActivate")
      }}
    {{/if}}
    {{#if drawMarker}}
      {{map-tools/base
        class=(concat flexberryClassNames.drawMarker " " drawMarkerClass)
        name="draw-marker"
        caption=drawMarkerCaption
        iconClass=drawMarkerIconClass
        mapToolProperties=_drawToolProperties
        activate=(action "onMapToolActivate")
      }}
    {{/if}}
    {{#if drawPolyline}}
      {{map-tools/base
        class=(concat flexberryClassNames.drawPolyline " " drawPolylineClass)
        name="draw-polyline"
        caption=drawPolylineCaption
        iconClass=drawPolylineIconClass
        mapToolProperties=_drawToolProperties
        activate=(action "onMapToolActivate")
      }}
    {{/if}}
    {{#if drawCircle}}
      {{map-tools/base
        class=(concat flexberryClassNames.drawCircle " " drawCircleClass)
        name="draw-circle"
        caption=drawCircleCaption
        iconClass=drawCircleIconClass
        mapToolProperties=_drawToolProperties
        activate=(action "onMapToolActivate")
      }}
    {{/if}}
    {{#if drawRectangle}}
      {{map-tools/base
        class=(concat flexberryClassNames.drawRectangle " " drawRectangleClass)
        name="draw-rectangle"
        caption=drawRectangleCaption
        iconClass=drawRectangleIconClass
        mapToolProperties=_drawToolProperties
        activate=(action "onMapToolActivate")
      }}
    {{/if}}
    {{#if drawPolygon}}
      {{map-tools/base
        class=(concat flexberryClassNames.drawPolygon " " drawPolygonClass)
        name="draw-polygon"
        caption=drawPolygonCaption
        iconClass=drawPolygonIconClass
        mapToolProperties=_drawToolProperties
        activate=(action "onMapToolActivate")
      }}
    {{/if}}
    {{#if drawClear}}
      {{map-tools/base
        class=(concat flexberryClassNames.drawClear " " drawClearClass)
        name="draw-clear"
        caption=drawClearCaption
        iconClass=drawClearIconClass
        mapToolProperties=_drawToolProperties
        activate=(action "onMapToolActivate")
      }}
    {{/if}}
  {{/block-slot}}
{{/map-tools/base}}
{{!--
  Semantic UI modal dialogs takes long time to be initialized
  so include each dialog in the markup only if dialog has been requested by user (similar "lazy load").
--}}
{{#if _labelDialogHasBeenRequested}}
  {{component "map-tools/dialog-label"
    caption=_labelDialogCaption
    visible=_labelDialogIsVisible
    label=_label
    signWithCoord=_signWithCoord
    forMarkerIsVisible = _forMarkerIsVisible
    approve=(action "onLabelDialogApprove")
    deny=(action "onLabelDialogDeny")
  }}
{{/if}}