<div class="{{flexberryClassNames.imageWrapper}}">
  {{#if _geometriesCanBeDisplayed}}
    {{#if (and styleRules (gt styleRules.length 0))}}
      {{#each styleRules as |styleRule index|}}
        <div class="{{flexberryClassNames.zoom}}">
          <canvas class="{{flexberryClassNames.image}} geometries{{index}}" width={{width}} height={{height}}></canvas>
          <label class="{{flexberryClassNames.caption}}" style="line-height: 1.3; vertical-align: top;">{{styleRule.rule.caption}}</label>
        </div>
      {{/each}}
    {{else}}
      <canvas class="{{flexberryClassNames.image}} geometries" width={{width}} height={{height}}></canvas>
      {{#if showCaption}}
        <label class="{{flexberryClassNames.caption}}" style="line-height: 1.3; vertical-align: top;">{{caption}}</label>
      {{/if}}
    {{/if}}
  {{/if}}
  {{#if _markersCanBeDisplayed}}
    {{#if (and styleRules (gt styleRules.length 0))}}
        {{#each styleRules as |styleRule index|}}
          <div class="{{flexberryClassNames.zoom}}">
            <canvas class="{{flexberryClassNames.image}} markers{{index}}" width={{width}} height={{height}}></canvas>
            <label class="{{flexberryClassNames.caption}}" style="line-height: 1.3; vertical-align: top;">{{styleRule.rule.caption}}</label>
          </div>
        {{/each}}
      {{else}}
        <canvas class="{{flexberryClassNames.image}} markers" width={{width}} height={{height}}></canvas>
        {{#if showCaption}}
          <label class="{{flexberryClassNames.caption}}" style="line-height: 1.3; vertical-align: top;">{{caption}}</label>
        {{/if}}
      {{/if}}
  {{/if}}

</div>