{{#map-commands/base
  class=(concat flexberryClassNames.wrapper " " class)
  name="search"
  caption=caption
  tooltip=tooltip
  iconClass=iconClass
}}
  {{#block-slot "submenu"}}
    {{map-commands/base
      class=(concat flexberryClassNames.searchAttributes " " searchAttributesClass)
      name="search-attributes"
      caption=searchAttributesCaption
      iconClass=searchAttributesIconClass
      mapCommandProperties=_searchCommandProperties
      execute=(action "onSearchAttributesMapCommandExecute")
    }}
    {{map-commands/base
      class=(concat flexberryClassNames.searchClear " " searchClearClass)
      name="search-clear"
      caption=searchClearCaption
      iconClass=searchClearIconClass
      mapCommandProperties=_searchCommandProperties
      execute=(action "onSearchClearMapCommandExecute")
    }}
  {{/block-slot}}
{{/map-commands/base}}

{{#if _searchDialogHasBeenRequested}}
  {{component "map-commands-dialogs/search"
    class=flexberryClassNames.searchDialog
    visible=_searchDialogIsVisible
    isBusy=_searchIsInProgress
    showErrorMessage=_showSearchErrorMessage
    errorMessage=_searchErrorMessage
    layers=_searchAttributesExecuteActionEventObject.mapCommand.layers
    leafletMap=_searchAttributesExecuteActionEventObject.mapCommand.leafletMap
    foundedFeatures=_foundedFeatures
    approve=(action "onSearchDialogApprove")
    deny=(action "onSearchDialogDeny")
    hide=(action "onSearchDialogHide")
    showFoundedFeatures=(action "onSearchDialogShowFoundedFeatures")
  }}
{{/if}}
