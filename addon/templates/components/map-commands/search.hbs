{{#map-commands/base
  class=(concat flexberryClassNames.wrapper " " class)
  name="search"
  caption=caption
  tooltip=tooltip
  iconClass=iconClass
  leafletMap=leafletMap
  layers=layers
}}
  {{#block-slot "submenu"}}
    {{map-commands/base
      class=(concat flexberryClassNames.searchAttributes " " searchAttributesClass)
      name="search-attributes"
      caption=searchAttributesCaption
      iconClass=searchAttributesIconClass
      leafletMap=leafletMap
      layers=layers
      click=(action "onMapCommandButtonClick")
    }}
    {{map-commands/base
      class=(concat flexberryClassNames.searchClear " " searchClearClass)
      name="search-clear"
      caption=searchClearCaption
      iconClass=searchClearIconClass
      leafletMap=leafletMap
      layers=layers
      click=(action "onMapCommandButtonClearClick")
    }}
  {{/block-slot}}
{{/map-commands/base}}

{{#if _searchDialogHasBeenRequested}}
  {{component "map-commands-dialogs/search"
    class=flexberryClassNames.searchDialog
    visible=_searchDialogIsVisible
    isBusy=_searchIsInProgress
    showErrorMessage=_showSearchErrorMessage
    errorMessage=_searchErrorMessage
    layers=layers
    leafletMap=leafletMap
    foundedFeatures=_foundedFeatures
    approve=(action "onSearchDialogApprove")
    showFoundedFeatures=(action "onSearchDialogShowFoundedFeatures")
  }}
{{/if}}
