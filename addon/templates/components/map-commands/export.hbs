{{#map-commands/base
  class=(concat flexberryClassNames.wrapper " " class)
  name="export"
  caption=caption
  tooltip=tooltip
  iconClass=iconClass
}}
  {{#block-slot "submenu"}}
    {{map-commands/base
      class=(concat flexberryClassNames.exportDownload " " exportDownloadClass)
      name="export-download"
      caption=exportDownloadCaption
      tooltip=exportDownloadTooltip
      iconClass=exportDownloadIconClass
      click=(action "onMapCommandButtonClick")
    }}
    {{map-commands/base
      class=(concat flexberryClassNames.exportPrint " " exportPrintClass)
      name="export-print"
      caption=exportPrintCaption
      tooltip=exportPrintTooltip
      iconClass=exportPrintIconClass
      click=(action "onExportPrintMapCommandExecute")
    }}
  {{/block-slot}}
{{/map-commands/base}}

{{#if _exportDialogHasBeenRequested}}
  {{component "map-commands-dialogs/export"
    class=flexberryClassNames.exportDialog
    visible=_exportDialogIsVisible
    isBusy=_exportIsInProgress
    showDownloadingFileSettings=_showDownloadingFileSettings
    showErrorMessage=_showExportErrorMessage
    errorMessage=_exportErrorMessage
    leafletMap=leafletMap
    layers=layers
    defaultMapCaption=defaultMapCaption
    timeout=timeout
    approve=(action "onExportDialogApprove")
  }}
{{/if}}